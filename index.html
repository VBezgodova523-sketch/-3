<div id="game-container" style="width: 100%; height: 400px; position: relative; border: 1px solid #ccc; overflow: hidden; font-family: sans-serif;">
    <div id="task-text" style="text-align: center; font-size: 24px; margin-top: 20px;">–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏—è...</div>
    <div id="drop-zone-container" style="display: flex; justify-content: space-around; margin-top: 50px;"></div>
    <div id="drag-items-container" style="display: flex; justify-content: space-around; margin-top: 100px;"></div>
    
    <div id="feedback" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px; border-radius: 10px; text-align: center; z-index: 100;"></div>
</div>

<script>
// –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Ç–æ–º –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –†–µ–¥–∞–∫—Ç–æ—Ä
const gameSettings = {
    taskTitle: "–°–æ–ø–æ—Å—Ç–∞–≤—å —Å—Ç–æ–ª–∏—Ü—ã –∏ —Å—Ç—Ä–∞–Ω—ã",
    type: "match", // match, gap, error
    items: [
        { id: 1, text: "–§—Ä–∞–Ω—Ü–∏—è", match: "–ü–∞—Ä–∏–∂" },
        { id: 2, text: "–ò—Ç–∞–ª–∏—è", match: "–†–∏–º" },
        { id: 3, text: "–Ø–ø–æ–Ω–∏—è", match: "–¢–æ–∫–∏–æ" }
    ],
    style: {
        fontSize: "20px",
        color: "#333",
        neon: true,
        timer: false
    },
    feedback: {
        success: "–¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è! ‚≠ê",
        error: "–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑... üò¢"
    }
};

let solvedCount = 0;

function initGame() {
    const taskEl = document.getElementById('task-text');
    const dropZoneCont = document.getElementById('drop-zone-container');
    const dragItemsCont = document.getElementById('drag-items-container');
    
    taskEl.innerText = gameSettings.taskTitle;
    taskEl.style.color = gameSettings.style.color;

    // –°–æ–∑–¥–∞–µ–º –∑–æ–Ω—ã (–∫—É–¥–∞ –∫–∏–¥–∞—Ç—å)
    gameSettings.items.forEach(item => {
        const zone = document.createElement('div');
        zone.className = 'drop-zone';
        zone.innerText = item.match;
        zone.dataset.matchId = item.id;
        styleElement(zone, "target");
        
        zone.ondragover = (e) => e.preventDefault();
        zone.ondrop = handleDrop;
        
        dropZoneCont.appendChild(zone);
    });

    // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–¥–º–µ—Ç—ã (—á—Ç–æ —Ç–∞—Å–∫–∞—Ç—å) - –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –∏—Ö
    const shuffledItems = [...gameSettings.items].sort(() => Math.random() - 0.5);
    shuffledItems.forEach(item => {
        const dragItem = document.createElement('div');
        dragItem.className = 'drag-item';
        dragItem.innerText = item.text;
        dragItem.draggable = true;
        dragItem.dataset.id = item.id;
        styleElement(dragItem, "source");
        
        dragItem.ondragstart = (e) => {
            e.dataTransfer.setData("text", e.target.dataset.id);
        };
        
        dragItemsCont.appendChild(dragItem);
    });
}

function styleElement(el, type) {
    el.style.padding = "15px";
    el.style.border = "2px dashed #aaa";
    el.style.borderRadius = "8px";
    el.style.minWidth = "100px";
    el.style.textAlign = "center";
    el.style.backgroundColor = type === "source" ? "#fff" : "#f0f0f0";
    if (gameSettings.style.neon) {
        el.style.boxShadow = "0 0 10px rgba(0,255,255,0.5)";
    }
}

function handleDrop(e) {
    e.preventDefault();
    const draggedId = e.dataTransfer.getData("text");
    const targetId = e.target.dataset.matchId;
    const feedbackEl = document.getElementById('feedback');

    if (draggedId === targetId) {
        // –£–°–ü–ï–•
        e.target.style.backgroundColor = "#90ee90";
        e.target.style.border = "2px solid green";
        showFeedback(gameSettings.feedback.success, "#d4edda");
        solvedCount++;
        
        // –£–¥–∞–ª—è–µ–º –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç (–≤–∏–∑—É–∞–ª—å–Ω–æ "–ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ–º")
        const draggedEl = document.querySelector(`[data-id="${draggedId}"]`);
        draggedEl.style.visibility = "hidden";

        if (solvedCount === gameSettings.items.length) {
            setTimeout(() => alert("–§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞: üèÜ"), 500);
        }
    } else {
        // –û–®–ò–ë–ö–ê
        showFeedback(gameSettings.feedback.error, "#f8d7da");
    }
}

function showFeedback(text, bgColor) {
    const feedbackEl = document.getElementById('feedback');
    feedbackEl.innerText = text;
    feedbackEl.style.backgroundColor = bgColor;
    feedbackEl.style.display = "block";
    setTimeout(() => { feedbackEl.style.display = "none"; }, 1500);
}

initGame();
</script>
